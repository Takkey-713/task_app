[{"/Users/tksk/api-practice/task_app/src/reportWebVitals.ts":"1","/Users/tksk/api-practice/task_app/src/components/auth/AuthForm.tsx":"2","/Users/tksk/api-practice/task_app/src/components/pages/header/Header.tsx":"3","/Users/tksk/api-practice/task_app/src/components/pages/main/board/Board.tsx":"4","/Users/tksk/api-practice/task_app/src/components/pages/main/task/Task.tsx":"5","/Users/tksk/api-practice/task_app/src/components/pages/modal/TaskBody.tsx":"6","/Users/tksk/api-practice/task_app/src/components/pages/main/Main.tsx":"7","/Users/tksk/api-practice/task_app/src/App.tsx":"8","/Users/tksk/api-practice/task_app/src/components/common.ts":"9","/Users/tksk/api-practice/task_app/src/components/requests/AuthRequest.ts":"10","/Users/tksk/api-practice/task_app/src/components/requests/BoardRequest.ts":"11","/Users/tksk/api-practice/task_app/src/components/requests/TaskRequest.ts":"12","/Users/tksk/api-practice/task_app/src/index.tsx":"13","/Users/tksk/api-practice/task_app/src/components/hooks/useDataReducer.ts":"14","/Users/tksk/api-practice/task_app/src/components/auth/AuthHeader.tsx":"15","/Users/tksk/api-practice/task_app/src/components/pages/search/SearchForm.tsx":"16","/Users/tksk/api-practice/task_app/src/components/pages/main/list/List.tsx":"17","/Users/tksk/api-practice/task_app/src/components/pages/modal/ListModal.tsx":"18","/Users/tksk/api-practice/task_app/src/components/pages/main/addList/AddList.tsx":"19"},{"size":425,"mtime":1614906242000,"results":"20","hashOfConfig":"21"},{"size":5522,"mtime":1615265681000,"results":"22","hashOfConfig":"21"},{"size":800,"mtime":1614906242000,"results":"23","hashOfConfig":"21"},{"size":5036,"mtime":1615265681000,"results":"24","hashOfConfig":"21"},{"size":1032,"mtime":1615551677008,"results":"25","hashOfConfig":"21"},{"size":4993,"mtime":1615551963550,"results":"26","hashOfConfig":"21"},{"size":955,"mtime":1615552828421,"results":"27","hashOfConfig":"21"},{"size":2996,"mtime":1615553130593,"results":"28","hashOfConfig":"21"},{"size":124,"mtime":1615357261276,"results":"29","hashOfConfig":"21"},{"size":1314,"mtime":1615428994411,"results":"30","hashOfConfig":"21"},{"size":1342,"mtime":1615358200142,"results":"31","hashOfConfig":"21"},{"size":1370,"mtime":1615357610835,"results":"32","hashOfConfig":"21"},{"size":292,"mtime":1614906242000,"results":"33","hashOfConfig":"21"},{"size":1013,"mtime":1615552974696,"results":"34","hashOfConfig":"21"},{"size":216,"mtime":1615265681000,"results":"35","hashOfConfig":"21"},{"size":1313,"mtime":1615265681000,"results":"36","hashOfConfig":"21"},{"size":5104,"mtime":1615552966465,"results":"37","hashOfConfig":"21"},{"size":7263,"mtime":1615553079345,"results":"38","hashOfConfig":"21"},{"size":1913,"mtime":1615553343426,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1h2c9qo",{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"58"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"76","messages":"77","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/tksk/api-practice/task_app/src/reportWebVitals.ts",[],"/Users/tksk/api-practice/task_app/src/components/auth/AuthForm.tsx",[],"/Users/tksk/api-practice/task_app/src/components/pages/header/Header.tsx",["82"],"/Users/tksk/api-practice/task_app/src/components/pages/main/board/Board.tsx",["83"],"/Users/tksk/api-practice/task_app/src/components/pages/main/task/Task.tsx",["84"],"/Users/tksk/api-practice/task_app/src/components/pages/modal/TaskBody.tsx",["85","86"],"import React, { useState, useContext, useEffect } from \"react\";\nimport styles from \"./style/TaskModal.module.css\";\nimport { TaskRequest } from \"../../requests/TaskRequest\";\nimport { TaskType, BoardType, ListType } from \"../../interfaces/interface\";\nimport { DataContext } from \"../../../App\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\ninterface Props {\n  task?: TaskType;\n  handleOnClose: () => void;\n  list: ListType;\n}\n\nexport const TaskBody: React.FC<Props> = (props) => {\n  const { data, dispatch } = useContext(DataContext);\n  const [title, setTitle] = useState<string>(\n    (props.task && props.task.name) || \"\"\n  );\n  const [listId, setListId] = useState<number>(\n    (props.task && props.task.list_id) || props.list.id\n  );\n  const [explanation, setExplanation] = useState<string>(\n    (props.task && props.task.explanation) || \"\"\n  );\n  const [deadlineDate, setDeadlineDate] = useState<string>(\n    (props.task && props.task.deadline_date) || \"\"\n  );\n\n  const onClickSubmit = async () => {\n    const requestData = props.task\n      ? {\n          id: props.task && props.task.id,\n          name: title,\n          list_id: listId,\n          explanation: explanation,\n          deadline_date: deadlineDate,\n        }\n      : {\n          name: title,\n          list_id: props.list.id,\n          explanation: explanation,\n          deadline_date: deadlineDate,\n        };\n\n    try {\n      const tasks: TaskType[] = await TaskRequest(\n        props.task ? \"updateTasks\" : \"createTasks\",\n        {\n          data: requestData,\n        }\n      );\n      props.handleOnClose();\n      dispatch({ type: \"tasksUpdate\", payload: { task: tasks } });\n    } catch (err) {\n      alert(\"通信に失敗しました。\");\n    }\n  };\n\n  const handleOnDelete = async () => {\n    const requestData = {\n      id: props.task && props.task.id,\n      name: title,\n      list_id: listId,\n    };\n    try {\n      const tasks: TaskType[] = await TaskRequest(\"deleteTasks\", {\n        data: requestData,\n      });\n      dispatch({ type: \"tasksUpdate\", payload: { task: tasks } });\n    } catch (err) {\n      alert(\"通信に失敗しました。\");\n    }\n  };\n\n  return (\n    <form className={styles.modal_body}>\n      <CloseIcon\n        style={{ cursor: \"pointer\" }}\n        className={styles.task_close_icon}\n        onClick={() => props.handleOnClose()}\n      />\n      <div>\n        <h4 className={styles.input_title}>タイトル</h4>\n        <textarea\n          className={styles.textArea}\n          value={title}\n          placeholder=\"タスクのタイトルを入力してください\"\n          onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) =>\n            setTitle(e.target.value)\n          }\n        />\n        <h4 className={styles.input_title}>説明</h4>\n        <textarea\n          className={styles.textArea}\n          placeholder=\"説明を記入してください\"\n          value={explanation}\n          onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) =>\n            setExplanation(e.target.value)\n          }\n        />\n        <h4 className={styles.input_title}>期限</h4>\n\n        <input\n          className={styles.input_date}\n          type=\"date\"\n          value={deadlineDate}\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n            setDeadlineDate(e.target.value)\n          }\n        />\n        <div className={styles.deadline_date_msg}>\n          {props.task &&\n          props.task.deadline_date &&\n          new Date(props.task.deadline_date) < new Date()\n            ? \"※期限が過ぎています\"\n            : \"\"}\n        </div>\n        <h4 className={styles.input_title}>リスト</h4>\n        {props.task && (\n          <select\n            className={styles.select}\n            value={listId}\n            onChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\n              setListId(Number(e.target.value))\n            }\n          >\n            {data.lists &&\n              data.lists.map((list: ListType) => {\n                return (\n                  <option key={list.id} value={list.id}>\n                    {list.name}\n                  </option>\n                );\n              })}\n          </select>\n        )}\n        {!props.task && (\n          <select\n            className={styles.select}\n            value={props.list.id}\n            onChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\n              setListId(Number(e.target.value))\n            }\n          >\n            <option value={props.list.id}>{props.list.name}</option>\n          </select>\n        )}\n      </div>\n\n      <input\n        className={styles.input_submit}\n        type=\"button\"\n        value={props.task ? \"タスクを更新する\" : \"タスクを追加する\"}\n        onClick={() => onClickSubmit()}\n      />\n\n      {props.task && (\n        <button\n          className={styles.delete_button}\n          type=\"button\"\n          onClick={handleOnDelete}\n        >\n          タスクを削除する\n        </button>\n      )}\n    </form>\n  );\n};\n","/Users/tksk/api-practice/task_app/src/components/pages/main/Main.tsx",["87","88","89","90"],"/Users/tksk/api-practice/task_app/src/App.tsx",["91"],"import React, { useState, useEffect } from \"react\";\nimport { Home } from \"./components/pages/home/Home\";\nimport { AuthForm } from \"./components/auth/AuthForm\";\nimport { AuthRequest } from \"./components/requests/AuthRequest\";\nimport { ListRequest } from \"./components/requests/ListRequest\";\nimport { TaskRequest } from \"./components/requests/TaskRequest\";\nimport { UserType } from \"./components/interfaces/interface\";\nimport {\n  Data,\n  dataAction,\n  useDataReducer,\n} from \"./components/hooks/useDataReducer\";\n\ntype dataContextType = {\n  data: Data;\n  dispatch: ({ type, payload }: dataAction) => void;\n};\n\nexport const DataContext = React.createContext<dataContextType>(\n  {} as dataContextType\n);\n\nexport const App: React.FC = () => {\n  // ここにtask,board,userのstateを管理する\b\n  const [data, dispatch] = useDataReducer();\n  // eslint-disable-next-line\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [user, setUser] = useState<UserType>({\n    id: 0,\n    email: \"\",\n  });\n  // eslint-disable-next-line\n  // userのstateは本アプリで必要になる\n  const handleOnChangeStatus = (user: UserType): void => {\n    setIsLoggedIn(!isLoggedIn);\n    setUser(user);\n  };\n\n  const handleOnLogout = async () => {\n    try {\n      const res = await AuthRequest(\"sign_out\");\n      if (!res.logged_in) {\n        setIsLoggedIn(!isLoggedIn);\n        setUser({ id: 0, email: \"\" });\n      }\n    } catch {\n      alert(\"通信に失敗しました。\");\n    }\n  };\n\n  const checkLoginStatus = async () => {\n    try {\n      const res = await AuthRequest(\"check_login\");\n      if (res.logged_in && isLoggedIn === false) {\n        setIsLoggedIn(true);\n        setUser(res.user);\n      } else if (res.status === 401) {\n        setIsLoggedIn(false);\n      }\n    } catch {\n      alert(\"通信に失敗しました\");\n    }\n  };\n\n  // 初回マウンティングした時にデータベースのボードとタスクを全て持ってくる\n  const fetchData = async () => {\n    // const boards = await BoardRequest(\"fetchBoards\");\n    const lists = await ListRequest(\"fetchLists\");\n    const tasks = await TaskRequest(\"fetchTasks\");\n    dispatch({ type: \"listsUpdate\", payload: { list: lists } });\n    dispatch({ type: \"tasksUpdate\", payload: { task: tasks } });\n  };\n\n  useEffect(() => {\n    checkLoginStatus();\n  }, []);\n\n  useEffect(() => {\n    checkLoginStatus();\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user]);\n\n  useEffect(() => {\n    dispatch({\n      type: \"tasksUpdate\",\n      payload: { task: data.tasks },\n    });\n    // eslint-disable-next-line\n  }, [data.tasks]);\n\n  return (\n    <DataContext.Provider value={{ data, dispatch }}>\n      <>\n        {isLoggedIn ? (\n          <Home isLoggedIn={isLoggedIn} handleOnLogout={handleOnLogout} />\n        ) : (\n          <AuthForm\n            isLoggedIn={isLoggedIn}\n            handleOnChangeStatus={handleOnChangeStatus}\n          />\n        )}\n      </>\n    </DataContext.Provider>\n  );\n};\n",["92","93"],"/Users/tksk/api-practice/task_app/src/components/common.ts",[],["94","95"],"/Users/tksk/api-practice/task_app/src/components/requests/AuthRequest.ts",[],"/Users/tksk/api-practice/task_app/src/components/requests/BoardRequest.ts",[],"/Users/tksk/api-practice/task_app/src/components/requests/TaskRequest.ts",[],"/Users/tksk/api-practice/task_app/src/index.tsx",[],"/Users/tksk/api-practice/task_app/src/components/hooks/useDataReducer.ts",["96"],"/Users/tksk/api-practice/task_app/src/components/auth/AuthHeader.tsx",[],"/Users/tksk/api-practice/task_app/src/components/pages/search/SearchForm.tsx",["97","98","99"],"/Users/tksk/api-practice/task_app/src/components/pages/main/list/List.tsx",["100","101"],"/Users/tksk/api-practice/task_app/src/components/pages/modal/ListModal.tsx",["102","103"],"/Users/tksk/api-practice/task_app/src/components/pages/main/addList/AddList.tsx",["104","105"],{"ruleId":"106","severity":1,"message":"107","line":3,"column":8,"nodeType":"108","messageId":"109","endLine":3,"endColumn":23},{"ruleId":"106","severity":1,"message":"110","line":22,"column":11,"nodeType":"108","messageId":"109","endLine":22,"endColumn":15},{"ruleId":"106","severity":1,"message":"111","line":2,"column":10,"nodeType":"108","messageId":"109","endLine":2,"endColumn":19},{"ruleId":"106","severity":1,"message":"112","line":1,"column":39,"nodeType":"108","messageId":"109","endLine":1,"endColumn":48},{"ruleId":"106","severity":1,"message":"111","line":4,"column":20,"nodeType":"108","messageId":"109","endLine":4,"endColumn":29},{"ruleId":"106","severity":1,"message":"111","line":4,"column":10,"nodeType":"108","messageId":"109","endLine":4,"endColumn":19},{"ruleId":"106","severity":1,"message":"113","line":8,"column":11,"nodeType":"108","messageId":"109","endLine":8,"endColumn":21},{"ruleId":"106","severity":1,"message":"114","line":12,"column":11,"nodeType":"108","messageId":"109","endLine":12,"endColumn":20},{"ruleId":"106","severity":1,"message":"115","line":17,"column":17,"nodeType":"108","messageId":"109","endLine":17,"endColumn":25},{"ruleId":"116","severity":1,"message":"117","line":76,"column":6,"nodeType":"118","endLine":76,"endColumn":8,"suggestions":"119"},{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","replacedBy":"123"},{"ruleId":"120","replacedBy":"124"},{"ruleId":"122","replacedBy":"125"},{"ruleId":"106","severity":1,"message":"111","line":2,"column":20,"nodeType":"108","messageId":"109","endLine":2,"endColumn":29},{"ruleId":"106","severity":1,"message":"126","line":5,"column":10,"nodeType":"108","messageId":"109","endLine":5,"endColumn":23},{"ruleId":"106","severity":1,"message":"127","line":6,"column":10,"nodeType":"108","messageId":"109","endLine":6,"endColumn":18},{"ruleId":"106","severity":1,"message":"128","line":9,"column":10,"nodeType":"108","messageId":"109","endLine":9,"endColumn":20},{"ruleId":"106","severity":1,"message":"111","line":2,"column":10,"nodeType":"108","messageId":"109","endLine":2,"endColumn":19},{"ruleId":"106","severity":1,"message":"110","line":22,"column":11,"nodeType":"108","messageId":"109","endLine":22,"endColumn":15},{"ruleId":"106","severity":1,"message":"111","line":3,"column":10,"nodeType":"108","messageId":"109","endLine":3,"endColumn":19},{"ruleId":"106","severity":1,"message":"110","line":52,"column":11,"nodeType":"108","messageId":"109","endLine":52,"endColumn":15},{"ruleId":"106","severity":1,"message":"111","line":5,"column":10,"nodeType":"108","messageId":"109","endLine":5,"endColumn":19},{"ruleId":"106","severity":1,"message":"110","line":10,"column":11,"nodeType":"108","messageId":"109","endLine":10,"endColumn":15},"@typescript-eslint/no-unused-vars","'DoneOutlineIcon' is defined but never used.","Identifier","unusedVar","'data' is assigned a value but never used.","'BoardType' is defined but never used.","'useEffect' is defined but never used.","'BoardsType' is defined but never used.","'TasksType' is defined but never used.","'dispatch' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'checkLoginStatus'. Either include it or remove the dependency array.","ArrayExpression",["129"],"no-native-reassign",["130"],"no-negated-in-lhs",["131"],["130"],["131"],"'SearchRequest' is defined but never used.","'TaskType' is defined but never used.","'searchText' is assigned a value but never used.",{"desc":"132","fix":"133"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [checkLoginStatus]",{"range":"134","text":"135"},[2175,2177],"[checkLoginStatus]"]